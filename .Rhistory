install.packages("fuzzyjoin")
?combine_match_general_to_trades
library(podcleaner)
?combine_match_general_to_trades
library(podcleaner)
library(podcleaner)
library(podcleaner)
library(podcleaner)
library(podcleaner)
library(podcleaner)
library(podcleaner)
library(podcleaner)
# Load required libraries ####
pacman::p_load(
dplyr, magrittr, podcleaner, purrr, stringr, tidyr, here, parallel, readr, rlang
)
path_data <- "C:\Users\User\Dropbox\pro\Strathclyde\Fintech research assistant\glasgow-entrepreneurs\analysis\extract-load-transform\data"
verbose <- FALSE
## Define locals ####
directories <- c("1861-1862")
## General directories ####
path_directories <- utils_make_path(path_data, "general-directories")
path_data <- "C:/Users/User/Dropbox/pro/Strathclyde/Fintech research assistant/glasgow-entrepreneurs/analysis/extract-load-transform/data"
verbose <- FALSE
## Define locals ####
directories <- c("1861-1862")
## General directories ####
path_directories <- utils_make_path(path_data, "general-directories")
general_directory_raw <- utils_load_directories_csv(
"general", directories, path_directories, verbose
)
path_directories <- utils_make_path(path_data, "trades-directories")
trades_directory_raw <- utils_load_directories_csv(
"trades", directories, path_directories, verbose
)
# Clean ####
general_directory_clean <- general_clean_directory(general_directory_raw, verbose)
trades_directory_clean <- trades_clean_directory(trades_directory_raw, verbose)
## locals ####
trades_directory <- dplyr::slice(trades_directory_clean, 1:1000L)
general_directory <- general_directory_clean
nthread <- detectCores(all.tests = FALSE, logical = TRUE) - 1L
verbose <- FALSE
combined <- combine_match_general_to_trades(
trades_directory, general_directory, progress = TRUE, verbose = TRUE, method = "osa",
max_dist = 5L, nthread = nthread
)
trades_directory_split
(0:nrow(trades_directory) %/% 100L)
(1L:nrow(trades_directory) %/% 100L)
(1L:nrow(trades_directory) / 100L)
trades_directory_split <- split(
trades_directory, (1L:nrow(trades_directory) %/% 3L)
)
(1L:nrow(trades_directory) %/% 3L)
(1L:nrow(trades_directory) %/% 50L)
(1L:nrow(trades_directory) %/% 51L)
(1L:nrow(trades_directory) %/% 101L)
trades_directory_split <- split(
trades_directory, (1L:nrow(trades_directory) %/% 101L)
)
trades_directory_split
trades_directory_split <- split(
trades_directory, (0L:nrow(trades_directory) %/% 101L)
)
trades_directory_split
trades_directory_split <- split(
trades_directory, (1L:nrow(trades_directory) %/% 101L)
)
trades_directory_split
trades_directory_split <- split(
trades_directory, (1L:nrow(trades_directory) %/% 100L)
)
(1L:nrow(trades_directory) %/% 100L)
split(
trades_directory, (1L:nrow(trades_directory) %/% 101L)
)
trades_directory
trades_directory <- dplyr::slice(trades_directory, 1:999L)
(1L:nrow(trades_directory) %/% 100L)
trades_directory_split <- split(
trades_directory, (1L:nrow(trades_directory) %/% 100L)
)
trades_directory_split
library(podcleaner)
library(podcleaner)
## locals ####
trades_directory <- dplyr::slice(trades_directory_clean, 1:999L)
general_directory <- general_directory_clean
nthread <- detectCores(all.tests = FALSE, logical = TRUE) - 1L
verbose <- FALSE
combined <- combine_match_general_to_trades(
trades_directory, general_directory, progress = TRUE, verbose = TRUE, method = "osa",
max_dist = 5L, nthread = nthread
)
library(podcleaner)
## locals ####
trades_directory <- dplyr::slice(trades_directory_clean, 1:999L)
general_directory <- general_directory_clean
nthread <- detectCores(all.tests = FALSE, logical = TRUE) - 1L
verbose <- FALSE
combined <- combine_match_general_to_trades(
trades_directory, general_directory, progress = TRUE, verbose = TRUE,
method = "osa", max_dist = 5L, nthread = nthread
)
library(podcleaner)
trades_directory <- dplyr::slice(trades_directory_clean, 1:999L)
# trades_directory <- trades_directory_clean
general_directory <- general_directory_clean
nthread <- detectCores(all.tests = FALSE, logical = TRUE) - 1L
verbose <- FALSE
combined <- combine_match_general_to_trades(
trades_directory, general_directory, progress = TRUE, verbose = TRUE,
method = "osa", max_dist = 5L, nthread = nthread
)
combined
